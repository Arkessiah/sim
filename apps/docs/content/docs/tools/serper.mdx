---
title: Serper
description: Search the web using Serper
---

import { BlockInfoCard } from "@/components/ui/block-info-card"

<BlockInfoCard 
  type="serper"
  color="#2B3543"
  icon={true}
  iconSvg={`<svg className="block-icon" viewBox='0 0 654 600' xmlns='http://www.w3.org/2000/svg' >
      <path
        d='M324 38C356 37 389 36 417 47C452 56 484 72 509 94C539 118 561 145 577 176C593 205 601 238 606 271C610 343 590 403 552 452C528 482 499 507 467 523C438 539 404 547 372 552C297 556 235 534 184 492C133 449 103 392 93 330C93 292 89 255 102 224C112 189 128 158 149 132C194 78 255 46 322 38'
        fill='rgb(71,97,118)'
      />
      <path
        d='M326 39C286 43 250 55 217 75C185 94 156 120 137 150C100 204 87 266 95 336C107 402 142 462 198 502C249 538 309 556 378 551C415 545 449 533 477 516C511 497 535 472 557 445C592 393 611 333 605 265C595 196 563 140 511 95C484 73 452 57 419 48C390 38 359 38 327 39'
        fill='rgb(71,97,119)'
      />
      <path
        d='M342 40C407 42 465 61 513 103C541 126 562 155 576 184C592 217 600 251 600 288C602 357 579 416 535 465C510 493 478 515 445 528C416 541 385 546 352 546C284 548 225 523 178 481C130 436 103 379 96 313C94 244 113 186 151 138C179 103 209 80 245 64C276 50 307 44 340 41'
        fill='rgb(71,97,119)'
      />
      <path
        d='M344 42C309 44 277 51 247 64C209 81 180 103 153 136C114 186 95 244 96 312C104 379 131 435 177 480C225 522 284 547 351 546C385 545 416 540 443 528C478 514 509 492 533 466C578 416 601 357 600 289C599 251 591 217 576 187C561 156 541 127 515 105C466 63 409 44 346 41'
        fill='rgb(71,97,118)'
      />
      <path
        d='M327 81C378 78 423 89 462 114C511 144 546 196 557 248C567 306 559 363 530 406C498 457 448 492 395 503C338 513 282 506 239 477C192 450 156 402 143 351C126 296 137 235 163 190C198 130 258 89 325 82'
        fill='rgb(44,56,71)'
      />
      <path
        d='M329 83C260 89 199 129 165 189C138 235 127 296 144 349C157 401 193 449 237 475C282 505 338 512 393 503C448 491 497 457 529 408C558 363 566 306 557 250C545 196 511 145 464 116C424 91 380 79 330 82'
        fill='rgb(43,55,70)'
      />
      <path
        d='M334 87C381 83 423 94 458 117C510 148 544 201 554 258C562 317 551 370 521 412C487 460 440 491 385 500C331 507 281 499 241 473C191 444 157 394 145 339C136 284 143 227 171 186C207 129 265 91 332 87'
        fill='rgb(41,53,67)'
      />
      <path
        d='M335 88C267 90 208 129 173 184C144 227 137 284 145 338C158 393 191 443 240 471C281 498 331 506 384 500C439 490 487 459 519 413C550 370 561 317 554 259C543 201 509 149 460 119C424 96 383 85 337 88'
        fill='rgb(41,53,67)'
      />
      <path
        d='M347 166C361 164 373 169 387 168C412 180 437 193 447 221C449 232 443 243 434 248C403 245 398 204 365 207C338 206 315 210 297 228C294 238 289 257 303 260C337 280 382 276 417 292C436 300 448 314 455 330C457 349 462 373 449 385C435 408 413 418 391 427C361 429 328 436 304 421C280 413 260 392 250 370C246 356 255 343 268 343C293 360 316 398 356 389C382 390 409 380 416 357C389 295 298 335 260 276C246 256 248 233 258 214C279 184 309 167 346 167'
        fill='rgb(121,172,205)'
      />
      <path
        d='M349 168C312 167 280 183 259 212C249 233 247 256 260 274C299 334 390 294 422 354C409 381 382 391 357 389C316 399 293 361 272 342C255 344 247 356 251 368C260 391 280 412 302 420C328 435 361 428 389 428C412 417 434 407 447 386C461 373 456 349 456 332C428 270 351 289 304 262C288 258 293 239 295 229C314 209 338 204 363 204C398 203 403 244 431 249C443 242 448 232 449 222C436 193 412 181 388 172C374 170 363 166 350 167'
        fill='rgb(125,177,211)'
      />
      <path
        d='M349 169C386 169 425 185 441 220C444 231 441 240 432 243C409 237 402 209 380 206C347 200 314 201 293 226C290 238 286 256 297 262C332 283 375 281 411 295C431 304 446 317 452 337C455 360 452 383 434 396C415 415 391 421 366 426C338 430 316 422 295 413C276 402 261 385 254 366C254 353 261 343 275 348C290 381 325 398 360 394C388 395 411 382 420 360C425 342 413 334 404 327C359 304 298 318 265 276C253 254 255 235 261 214C280 187 314 173 346 170'
        fill='rgb(137,195,233)'
      />
      <path
        d='M349 171C316 173 281 187 263 214C256 235 254 254 266 273C300 316 359 304 401 325C413 333 426 342 422 358C412 382 388 396 363 395C326 399 290 382 278 348C262 345 254 353 253 365C261 384 277 401 292 411C316 421 338 429 365 426C390 420 415 414 432 398C451 383 454 360 453 338C445 317 430 305 413 296C375 282 332 284 299 264C285 257 288 239 291 228C304 212 319 205 336 202C378 193 403 213 423 244C438 244 443 232 441 222C425 186 388 171 352 170'
        fill='rgb(139,198,236)'
      />
    </svg>`}
/>

{/* MANUAL-CONTENT-START:intro */}
[Serper](https://www.serper.com/) is a Google Search API that provides developers with programmatic access to Google search results. It offers a reliable, high-performance way to integrate Google search capabilities into applications without the complexity of web scraping or the limitations of other search APIs.

With Serper, you can:

- **Access Google search results**: Get structured data from Google search results programmatically
- **Perform different search types**: Run web searches, image searches, news searches, and more
- **Retrieve rich metadata**: Obtain titles, snippets, URLs, and other relevant information from search results
- **Scale your applications**: Build search-powered features with a reliable and fast API
- **Avoid rate limiting**: Get consistent access to search results without worrying about IP blocks

In Sim, the Serper integration enables your agents to leverage the power of web search as part of their workflows. This allows for sophisticated automation scenarios that require up-to-date information from the internet. Your agents can formulate search queries, retrieve relevant results, and use this information to make decisions or provide responses. This integration bridges the gap between your workflow automation and the vast knowledge available on the web, enabling your agents to access real-time information without manual intervention. By connecting Sim with Serper, you can create agents that stay current with the latest information, provide more accurate responses, and deliver more value to users.
{/* MANUAL-CONTENT-END */}


## Operations

### `serper_search`

A powerful web search tool that provides access to Google search results through Serper.dev API. Supports different types of searches including regular web search, news, places, and images, with each result containing relevant metadata like titles, URLs, snippets, and type-specific information.

#### Input

| Parameter | Type | Required | Description |
| --------- | ---- | -------- | ----------- |
| `query` | string | Yes | The search query |
| `num` | number | No | Number of results to return |
| `gl` | string | No | Country code for search results |
| `hl` | string | No | Language code for search results |
| `type` | string | No | Type of search to perform |
| `apiKey` | string | Yes | Serper API Key |

#### Output

| Parameter | Type | Description |
| --------- | ---- | ----------- |
| `searchResults` | array | Search results with titles, links, snippets, and type-specific metadata \(date for news, rating for places, imageUrl for images\) |



## Best Practices

{/* MANUAL-CONTENT-START:bestPractices */}
When incorporating the Serper block into your Sim.ai workflows, following established best practices ensures accurate search results and optimal API utilization. The Serper block serves as a critical data acquisition component, transforming search queries into structured, actionable information that powers intelligent decision-making across your automated workflows.

**Connection Tag Usage and Data Flow**

The `<serper1.searchResults>` connection tag provides the primary data output containing structured search result arrays. This tag connects seamlessly to Agent blocks via `<serper1.searchResults>` → `<agent1.context>`, enabling AI agents to analyze and synthesize search findings. For dynamic query generation, use `<agent1.content>` → `<serper1.query>` to create conversational search interfaces where AI determines optimal search terms based on user input.

When chaining multiple Serper blocks, leverage specific search types through the `type` parameter. Connect `<serper1.searchResults>` to subsequent searches using Function blocks to extract specific data points like domain names or keywords for refined follow-up searches. This creates powerful research workflows where initial broad searches inform targeted deep-dive investigations.

**Workflow Architecture Patterns**

The most effective Serper implementations follow proven architectural patterns. The **Agent → Serper → Agent** pattern enables intelligent research workflows where the first agent formulates search queries, Serper retrieves results, and a second agent analyzes findings. This pattern excels for market research, competitive analysis, and fact-checking applications.

For real-time information workflows, implement **Webhook Trigger → Serper → Notification** patterns that monitor search results for specific topics. Configure multiple Serper blocks with different `gl` and `hl` parameters to gather international perspectives on trending topics, creating comprehensive global monitoring systems.

The **Form Input → Serper → Data Processing → Report Generation** pattern transforms user queries into structured research reports, combining search results with data analysis and formatted output.

**Message/Data Formatting Excellence**

Structure search queries for maximum relevance by incorporating specific operators and contextual terms. Use the `num` parameter strategically—set to 5-10 for focused results that reduce processing time, or 20+ for comprehensive research requiring broad coverage. The `searchResults` array contains critical metadata including `title`, `link`, `snippet`, and type-specific fields like `date` for news results or `rating` for places.

When processing `<serper1.searchResults>` in downstream blocks, implement JSON parsing patterns that extract specific result elements. Filter results by relevance using snippet analysis before passing data to Agent blocks, reducing token consumption and improving response quality. For news searches, leverage the `date` field to ensure temporal relevance in your analysis.

**Security Considerations**

Implement robust API key management by storing your Serper API key in secure environment variables rather than hardcoding values. Use connection tags like `<config.apiKey>` from secure configuration blocks to maintain key security across workflow deployments. Monitor API usage through Serper's dashboard to detect unusual activity patterns that might indicate unauthorized access.

Validate search query inputs to prevent injection attacks when user-generated content flows into the `query` parameter. Implement input sanitization in Function blocks before connecting to `<serper1.query>`, especially in public-facing applications where malicious queries could exhaust API limits.

**Performance Optimization**

Optimize API usage by implementing intelligent caching strategies for frequently searched queries. Use Function blocks to check recent search history before triggering new Serper requests, reducing redundant API calls. Configure appropriate `gl` and `hl` parameters based on your target audience to ensure result relevance and reduce the need for follow-up searches.

Implement result filtering at the Function block level to process only relevant search results before expensive downstream operations. Extract key data points immediately after the Serper block rather than passing entire result sets through multiple workflow stages. This approach reduces memory usage and improves overall workflow performance.

**Debugging and Monitoring**

Enable comprehensive logging for all Serper operations by monitoring the `<serper1.searchResults>` output structure. Track search result counts and quality metrics to identify when queries return insufficient or irrelevant data. Implement error handling for empty result sets by checking array length before processing downstream operations.

Monitor API rate limits and response times through workflow execution logs. Create fallback patterns using multiple Serper blocks with different configuration parameters when primary searches fail or return limited results. Use the metadata within `searchResults` to assess result quality—low snippet lengths or missing titles often indicate poor search targeting that requires query refinement.

Implement query performance analysis by tracking which search terms and parameters yield the highest-quality results for your specific use cases. This data informs optimization strategies and helps refine search strategies over time, ensuring consistent workflow performance as your automation needs evolve.
{/* MANUAL-CONTENT-END */}


## FAQ

{/* MANUAL-CONTENT-START:faq */}
### How do I add web search capabilities to my Sim.ai workflow using Serper?

To add web search to your workflow, add a **Serper block** and configure its required inputs:

#### Required Inputs

| Input | Description | Example |
|-------|-------------|---------|
| `query` | The search terms to look for | `<start.searchTerm>` or `<agent1.content>` |
| `apiKey` | Your Serper API key from serper.dev | `<start.apiKey>` or environment variable |

#### Optional Inputs

| Input | Description | Default | Example |
|-------|-------------|---------|---------|
| `num` | Number of results to return | 10 | `<start.maxResults>` or static value like `5` |
| `gl` | Country code for localized results | us | `<start.country>` or `"gb"` for UK |
| `hl` | Language code for results | en | `<start.language>` or `"es"` for Spanish |
| `type` | Search type (search, news, images, places) | search | `<start.searchType>` or `"news"` |

### What outputs does the Serper block provide and how do I reference them?

The Serper block returns structured search data that you can connect to other blocks:

#### Available Output Tags

| Output Tag | Type | Description |
|------------|------|-------------|
| `<serper1.searchResults>` | Array | Complete array of search results |
| `<serper1.searchResults[0].title>` | String | Title of the first search result |
| `<serper1.searchResults[0].link>` | String | URL of the first search result |
| `<serper1.searchResults[0].snippet>` | String | Description snippet of the first result |
| `<serper1.searchResults[0].date>` | String | Publication date (for news results) |
| `<serper1.searchResults[0].rating>` | Number | Rating score (for places results) |
| `<serper1.searchResults[0].imageUrl>` | String | Image URL (for image results) |

Connect `<serper1.searchResults>` to downstream blocks for processing the complete search data.

### How do I create a workflow that searches the web based on user input?

Build a search-powered workflow with this pattern:

#### Example Workflow Structure
```
Webhook → Serper → Agent → Response
```

#### Configuration Steps

1. **Webhook Trigger**: Capture user search query via `<start.query>`
2. **Serper Block**: Configure search inputs:
   ```json
   {
     "query": "<start.query>",
     "apiKey": "<start.serperKey>",
     "num": 5,
     "type": "search"
   }
   ```
3. **Agent Block**: Process results with `<serper1.searchResults>` as context
4. **Response Block**: Return formatted answer to user

### How do I get a Serper API key and configure authentication?

To authenticate with Serper in your Sim.ai workflows:

#### Getting Your API Key

1. **Visit serper.dev** and create a free account
2. **Generate API key** from your dashboard
3. **Add to workflow** via `<start.apiKey>` or environment variables

#### Security Best Practices

- Store API keys in environment variables rather than hardcoding
- Use `<start.apiKey>` to pass keys from secure storage
- Never expose API keys in client-side code or public repositories

### What search types does Serper support and how do I use them?

Serper supports four different search types, each returning specialized metadata:

#### Available Search Types

| Type | Description | Special Fields |
|------|-------------|----------------|
| `search` | Regular web search | Standard title, link, snippet |
| `news` | News articles | `date`, `source`, publication info |
| `images` | Image search | `imageUrl`, dimensions, source site |
| `places` | Local business search | `rating`, `address`, `phoneNumber` |

#### Example Usage
```json
{
  "query": "<start.businessName>",
  "type": "places",
  "gl": "us"
}
```

### How do I combine Serper with Agent blocks for intelligent search responses?

Create AI-powered search experiences by connecting Serper results to Agent blocks:

#### Pattern 1: Search + Summarization
```
User Query → Serper → Agent (summarize) → Response
```

Configure the Agent block:
- **System Prompt**: "Summarize the following search results"
- **User Prompt**: `<serper1.searchResults>`

#### Pattern 2: Search + Question Answering
```
Question → Serper → Agent (answer) → Formatted Response
```

Configure the Agent block:
- **System Prompt**: "Answer the user's question using these search results"
- **User Prompt**: `Question: <start.question>\n\nSearch Results: <serper1.searchResults>`

### Why am I getting empty or irrelevant search results from Serper?

Troubleshoot search quality issues with these solutions:

#### Common Issues and Fixes

| Issue | Cause | Solution |
|-------|-------|----------|
| **No Results** | Query too specific or API key invalid | Verify `<start.apiKey>` is correct, broaden search terms |
| **Wrong Language** | Incorrect `hl` parameter | Set `hl` to target language code (e.g., `"en"`, `"es"`) |
| **Wrong Location** | Incorrect `gl` parameter | Set `gl` to target country code (e.g., `"us"`, `"gb"`) |
| **Outdated Results** | Using wrong search type | Use `type: "news"` for recent information |
| **Rate Limiting** | Too many requests | Implement delays or upgrade Serper plan |

#### Debugging Tips
- Check workflow logs for API error messages
- Verify `<serper1.searchResults>` contains data before processing
- Test queries in Serper dashboard first to validate results
{/* MANUAL-CONTENT-END */}
