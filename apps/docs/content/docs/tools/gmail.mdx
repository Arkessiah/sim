---
title: Gmail
description: Send Gmail or trigger workflows from Gmail events
---

import { BlockInfoCard } from "@/components/ui/block-info-card"

<BlockInfoCard 
  type="gmail"
  color="#E0E0E0"
  icon={true}
  iconSvg={`<svg className="block-icon"
      xmlns='http://www.w3.org/2000/svg'
      viewBox='0 0 48 48'
      
      
      
    >
      <path fill='#4caf50' d='M45,16.2l-5,2.75l-5,4.75L35,40h7c1.657,0,3-1.343,3-3V16.2z' />
      <path fill='#1e88e5' d='M3,16.2l3.614,1.71L13,23.7V40H6c-1.657,0-3-1.343-3-3V16.2z' />
      <polygon
        fill='#e53935'
        points='35,11.2 24,19.45 13,11.2 12,17 13,23.7 24,31.95 35,23.7 36,17'
      />
      <path
        fill='#c62828'
        d='M3,12.298V16.2l10,7.5V11.2L9.876,8.859C9.132,8.301,8.228,8,7.298,8h0C4.924,8,3,9.924,3,12.298z'
      />
      <path
        fill='#fbc02d'
        d='M45,12.298V16.2l-10,7.5V11.2l3.124-2.341C38.868,8.301,39.772,8,40.702,8h0 C43.076,8,45,9.924,45,12.298z'
      />
    </svg>`}
/>

{/* MANUAL-CONTENT-START:intro */}
[Gmail](https://gmail.com) is Google's popular email service that provides a robust platform for sending, receiving, and managing email communications. With over 1.8 billion active users worldwide, Gmail offers a feature-rich experience with powerful search capabilities, organizational tools, and integration options.

With Gmail, you can:

- **Send and receive emails**: Communicate with contacts through a clean, intuitive interface
- **Organize messages**: Use labels, folders, and filters to keep your inbox organized
- **Search efficiently**: Find specific messages quickly with Google's powerful search technology
- **Automate workflows**: Create filters and rules to automatically process incoming emails
- **Access from anywhere**: Use Gmail across devices with synchronized content and settings
- **Integrate with other services**: Connect with Google Calendar, Drive, and other productivity tools

In Sim, the Gmail integration enables your agents to send, read, and search emails programmatically. This allows for powerful automation scenarios such as sending notifications, processing incoming messages, extracting information from emails, and managing communication workflows. Your agents can compose and send personalized emails, search for specific messages using Gmail's query syntax, and extract content from emails to use in other parts of your workflow. Coming soon, agents will also be able to listen for new emails in real-time, enabling responsive workflows that can trigger actions based on incoming messages. This integration bridges the gap between your AI workflows and email communications, enabling seamless interaction with one of the world's most widely used communication platforms.
{/* MANUAL-CONTENT-END */}


## Operations

### `gmail_send`

Send emails using Gmail

#### Input

| Parameter | Type | Required | Description |
| --------- | ---- | -------- | ----------- |
| `to` | string | Yes | Recipient email address |
| `subject` | string | Yes | Email subject |
| `body` | string | Yes | Email body content |
| `cc` | string | No | CC recipients \(comma-separated\) |
| `bcc` | string | No | BCC recipients \(comma-separated\) |

#### Output

| Parameter | Type | Description |
| --------- | ---- | ----------- |
| `content` | string | Success message |
| `metadata` | object | Email metadata |

### `gmail_draft`

Draft emails using Gmail

#### Input

| Parameter | Type | Required | Description |
| --------- | ---- | -------- | ----------- |
| `to` | string | Yes | Recipient email address |
| `subject` | string | Yes | Email subject |
| `body` | string | Yes | Email body content |
| `cc` | string | No | CC recipients \(comma-separated\) |
| `bcc` | string | No | BCC recipients \(comma-separated\) |

#### Output

| Parameter | Type | Description |
| --------- | ---- | ----------- |
| `content` | string | Success message |
| `metadata` | object | Draft metadata |

### `gmail_read`

Read emails from Gmail

#### Input

| Parameter | Type | Required | Description |
| --------- | ---- | -------- | ----------- |
| `messageId` | string | No | ID of the message to read |
| `folder` | string | No | Folder/label to read emails from |
| `unreadOnly` | boolean | No | Only retrieve unread messages |
| `maxResults` | number | No | Maximum number of messages to retrieve \(default: 1, max: 10\) |
| `includeAttachments` | boolean | No | Download and include email attachments |

#### Output

| Parameter | Type | Description |
| --------- | ---- | ----------- |
| `content` | string | Text content of the email |
| `metadata` | json | Metadata of the email |
| `attachments` | file[] | Attachments of the email |

### `gmail_search`

Search emails in Gmail

#### Input

| Parameter | Type | Required | Description |
| --------- | ---- | -------- | ----------- |
| `query` | string | Yes | Search query for emails |
| `maxResults` | number | No | Maximum number of results to return |

#### Output

| Parameter | Type | Description |
| --------- | ---- | ----------- |
| `content` | string | Search results summary |
| `metadata` | object | Search metadata |



## Best Practices

{/* MANUAL-CONTENT-START:bestPractices */}
When incorporating the Gmail block into your Sim.ai workflows, following proven practices ensures reliable email operations and robust automation. The Gmail block serves as a comprehensive email interface that bridges your automated workflows with Gmail's powerful messaging capabilities, enabling both outbound communication and intelligent email processing.

**Connection Tag Usage and Data Flow**

Effective Gmail block integration relies on strategic connection tag usage across different operations. For outbound messaging, connect AI-generated content using `<agent1.content>` to populate the `body` parameter, while dynamic recipient management leverages `<function1.emailAddress>` for the `to` field. When processing inbound emails, the `<gmail1.body_text>` and `<gmail1.subject>` outputs become essential inputs for downstream processing blocks.

The Gmail block's rich output structure enables sophisticated data routing. Use `<gmail1.from>` and `<gmail1.date>` for sender analysis workflows, `<gmail1.attachments>` for document processing pipelines, and `<gmail1.labels>` for categorization logic. The `<gmail1.thread_id>` output proves invaluable for conversation tracking and contextual response generation.

For search operations, chain the `<gmail1.content>` output directly into analysis blocks, while the `<gmail1.metadata>` provides structured data for conditional logic. The `<gmail1.has_attachments>` boolean output enables branching workflows that handle attachment processing differently from text-only emails.

**Workflow Architecture Patterns**

Successful Gmail workflows follow established patterns optimized for different use cases. The **Webhook → Gmail Send** pattern handles immediate notifications, where external events trigger formatted email alerts. This pattern benefits from using Function blocks to transform webhook data into properly formatted email content before reaching the Gmail block.

For customer support automation, implement **Gmail Read → Agent → Gmail Send** flows that process incoming emails through AI analysis and generate contextual responses. This pattern requires careful threading using `<gmail1.thread_id>` to maintain conversation continuity and proper recipient mapping using `<gmail1.from>` as the response destination.

Email processing workflows benefit from **Gmail Search → Function → Multiple Actions** architectures, where search results undergo analysis and trigger various automated responses. Use the `maxResults` parameter strategically to balance processing efficiency with comprehensive coverage.

Draft-based workflows follow **Data Processing → Gmail Draft → Human Review** patterns, enabling human oversight before final delivery. This approach proves essential for sensitive communications where automated content requires validation before sending.

**Message Formatting Excellence**

Gmail's support for both plain text and HTML content requires thoughtful formatting strategies. Structure email bodies using proper HTML when rich formatting enhances readability—use headers, bullet points, and styling to create professional communications. For AI-generated content, implement formatting templates that ensure consistent email presentation across different content types.

Subject line optimization significantly impacts email effectiveness. Use dynamic subject generation that incorporates relevant data from upstream blocks, such as `Subject: Action Required - ${<function1.ticketNumber>}` for support workflows. Avoid generic subjects that may trigger spam filters or reduce recipient engagement.

Recipient management requires validation patterns to prevent delivery failures. Implement email format validation using Function blocks before passing addresses to the Gmail block's `to`, `cc`, and `bcc` parameters. For bulk operations, consider using comma-separated recipient lists efficiently while respecting Gmail's sending limits.

**Debugging and Monitoring**

Comprehensive Gmail block monitoring involves tracking multiple output fields for operational insights. Monitor `<gmail1.content>` for operation success confirmations and `<gmail1.metadata>` for detailed execution information. The `<gmail1.email_id>` and `<gmail1.timestamp>` outputs enable precise tracking of sent messages and processing times.

For read operations, validate data completeness by checking `<gmail1.body_text>` length and `<gmail1.attachments>` array contents. Empty or truncated content may indicate authentication issues or API limitations. Use the `<gmail1.raw_email>` output for deep debugging when standard outputs don't provide sufficient detail.

Search operation debugging requires analyzing `<gmail1.metadata>` to understand result counts and query performance. Low result counts may indicate overly restrictive queries, while performance issues might suggest the need for more specific search parameters.

Implement error handling patterns that capture Gmail API responses and provide meaningful feedback for common failure scenarios. Network timeouts, authentication expiration, and quota limits require different recovery strategies.

**Security Considerations**

Gmail block security centers on OAuth authentication management and data handling practices. Ensure OAuth tokens remain secure and implement proper refresh mechanisms to maintain continuous access without manual intervention. Never log or expose authentication credentials in workflow outputs or debugging information.

For sensitive email content, implement data sanitization patterns that remove confidential information from logs and intermediate processing steps. Use the `includeAttachments` parameter judiciously, as attachment processing introduces additional security considerations for file handling and storage.

When processing inbound emails, validate sender authenticity using `<gmail1.from>` verification against trusted sender lists. Implement content filtering for potentially malicious attachments or suspicious email patterns before processing email content through other workflow blocks.

**Performance Optimization**

Gmail block performance optimization requires strategic parameter configuration and workflow design choices. Use the `maxResults` parameter appropriately—higher values improve batch processing efficiency but increase memory usage and processing time. For large email volumes, implement pagination patterns using multiple Gmail blocks with specific search criteria.

The `unreadOnly` parameter significantly improves read operation performance by reducing the dataset size for processing. Combine this with specific folder targeting using the `folder` parameter to minimize API calls and processing overhead.

For attachment handling, enable `includeAttachments` only when necessary, as file downloads substantially increase operation time and resource consumption. Consider implementing conditional attachment processing using `<gmail1.has_attachments>` to branch workflows efficiently.

Cache frequently accessed email data using Function blocks to avoid repeated Gmail API calls. This proves particularly effective for workflows that reference the same emails multiple times or perform complex analysis on email content.

Batch similar operations together rather than executing multiple individual Gmail blocks for related tasks. This reduces authentication overhead and improves overall workflow execution speed while respecting Gmail API rate limits.
{/* MANUAL-CONTENT-END */}


## FAQ

{/* MANUAL-CONTENT-START:faq */}
### How do I send an email from my workflow using the Gmail block?

To send emails from your Sim.ai workflow, add a **Gmail block** configured with the `gmail_send` operation and connect the required inputs:

#### Required Inputs

| Input | Description | Example Connection |
|-------|-------------|-------------------|
| `to` | Recipient email address | `<start.recipient>` or `user@example.com` |
| `subject` | Email subject line | `<agent1.content>` or static text |
| `body` | Email body content | `<agent1.response>` or formatted text |

#### Optional Inputs

| Input | Description | Example |
|-------|-------------|---------|
| `cc` | CC recipients (comma-separated) | `<start.cc_list>` or `user1@example.com,user2@example.com` |
| `bcc` | BCC recipients (comma-separated) | `<start.bcc_list>` or static addresses |

### How do I trigger a workflow when I receive a new Gmail email?

To create Gmail-triggered workflows in Sim.ai:

1. **Add a Webhook Trigger block** as your workflow's entry point
2. **Configure Gmail webhook** using Google's Pub/Sub notifications
3. **Map incoming email data** to downstream blocks using connection tags

#### Example Workflow
```
Webhook → Agent → Gmail (reply)
```

Connect `<start.body_text>` to an Agent block's `userPrompt` to process incoming email content, then send a reply using `<agent1.content>` in the Gmail block's `body` field.

### What are the correct connection tags for referencing Gmail block outputs?

Every Gmail block exposes comprehensive outputs that can be referenced using connection tags:

#### Core Output Tags

| Output Tag | Type | Description |
|------------|------|-------------|
| `<gmail1.content>` | String | Success message or email content |
| `<gmail1.metadata>` | Object | Complete email metadata |
| `<gmail1.email_id>` | String | Unique Gmail message identifier |
| `<gmail1.subject>` | String | Email subject line |
| `<gmail1.from>` | String | Sender email address |
| `<gmail1.to>` | String | Recipient email address |
| `<gmail1.body_text>` | String | Plain text email content |
| `<gmail1.body_html>` | String | HTML email content |
| `<gmail1.attachments>` | Array | Email attachments data |
| `<gmail1.has_attachments>` | Boolean | Whether email contains attachments |
| `<gmail1.date>` | String | Email timestamp in ISO format |
| `<gmail1.labels>` | String | Gmail labels (comma-separated) |

### How do I read specific emails using the Gmail block?

Configure the Gmail block with the `gmail_read` operation to retrieve emails:

#### Input Configuration

| Parameter | Purpose | Example Value |
|-----------|---------|---------------|
| `messageId` | Read specific email by ID | `<webhook1.email_id>` |
| `folder` | Target Gmail label/folder | `INBOX`, `SENT`, or custom labels |
| `unreadOnly` | Filter to unread emails only | `true` or `<start.unread_filter>` |
| `maxResults` | Limit number of emails (1-10) | `5` or `<start.limit>` |
| `includeAttachments` | Download email attachments | `true` to include files |

#### Example: Reading Latest Unread Emails
```json
{
  "folder": "INBOX",
  "unreadOnly": true,
  "maxResults": 3,
  "includeAttachments": false
}
```

### How do I create draft emails without sending them immediately?

Use the Gmail block with the `gmail_draft` operation to create email drafts:

1. **Configure the Gmail block** with `gmail_draft` operation
2. **Connect required inputs** using the same format as sending emails
3. **Reference draft outputs** for confirmation or further processing

#### Draft Outputs
- `<gmail1.content>`: Draft creation success message
- `<gmail1.metadata>`: Draft metadata including draft ID

This is useful for workflows that need approval before sending or batch email preparation.

### Why is my Gmail block failing to authenticate or send emails?

Troubleshoot common Gmail integration issues:

#### Authentication Issues

| Problem | Solution |
|---------|----------|
| **OAuth Setup** | Ensure Gmail API is enabled in Google Cloud Console |
| **Scope Permissions** | Verify your app has `gmail.send` and `gmail.readonly` scopes |
| **Token Expiry** | Refresh OAuth tokens or re-authenticate |
| **Account Access** | Check if 2FA or security settings block API access |

#### Common Configuration Errors

| Error | Cause | Fix |
|-------|-------|-----|
| **Invalid Recipient** | Malformed email address | Validate `to` field format: `user@domain.com` |
| **Empty Subject/Body** | Required fields missing | Ensure `<agent1.content>` or static text is provided |
| **Rate Limits** | Too many API calls | Add delays between Gmail operations |
| **Attachment Size** | Files exceed Gmail limits | Check attachment sizes in `<gmail1.attachments>` |

### Can I combine Gmail with other Sim.ai blocks for email automation?

Yes! Gmail blocks integrate seamlessly with other workflow components:

#### Common Integration Patterns

##### 1. **Webhook → Agent → Gmail (Email Processing)**
```
Webhook (new email) → Agent (analyze content) → Gmail (send reply)
```
Use `<start.body_text>` → `<agent1.userPrompt>` → `<gmail1.body>`

##### 2. **API → Function → Gmail (Data Notifications)**
```
API (fetch data) → Function (format report) → Gmail (send summary)
```
Transform API data and email formatted reports to stakeholders.

##### 3. **Gmail → Condition → Multiple Actions**
```
Gmail (read) → Condition (check priority) → Gmail/Slack (notify)
```
Route emails based on content analysis or sender priority.

##### 4. **Scheduled → Gmail Search → Agent (Email Digest)**
```
Schedule → Gmail (search recent) → Agent (summarize) → Gmail (send digest)
```
Create automated email summaries using `<gmail1.content>` from search results.
{/* MANUAL-CONTENT-END */}
